<!DOCTYPE html>
<html>
	<head>
		{% block head %}
			<title>{% block title %}{% endblock %} - SGBirdsFinder</title>
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/styles.css') }}">
			<script src="https://kit.fontawesome.com/2bac960090.js" crossorigin="anonymous"></script>
			<script>
				document.addEventListener('DOMContentLoaded', () => {
					const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
					
					$navbarBurgers.forEach( el => {
						el.addEventListener('click', () => {

							const target = el.dataset.target;
							const $target = document.getElementById(target);

							el.classList.toggle('is-active');
							$target.classList.toggle('is-active');
						});
					});
				});
			</script>
		{% endblock %}
	</head>
	<body>
		<nav class="navbar is-primary" role="navigation" aria-label="main navigation" style="height: 3.5em;">
			<div class="navbar-brand">
				<a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" style="margin-left: 0;">
					<span aria-hidden="true"></span>
					<span aria-hidden="true"></span>
					<span aria-hidden="true"></span>
				</a>
				<a class="navbar-item" href="{{ url_for('general_bp.welcome') }}">Home</a>
		    </div>
			<div class="navbar-menu" id="navMenu">
				<div class="navbar-end">
					<a class="navbar-item" href="{{ url_for('id_bp.identify_get') }}">Identify</a>
					<a class="navbar-item" href="{{ url_for('browse_bp.browse') }}">Browse</a>
					<a class="navbar-item" href="{{ url_for('general_bp.about') }}">About</a>
					<div class="navbar-item has-dropdown is-hoverable" style="margin-right: 1em;">
						<a class="navbar-link">
						  Admin
						</a>
						<div class="navbar-dropdown">
						{% if session.get("isAdmin") %}
								<a class="navbar-item" href="{{ url_for('admin_bp.dash') }}">
									Dashboard
								</a>
								<hr class="navbar-divider">
								<a class="navbar-item" href="{{ url_for('auth_bp.logout') }}">
									Logout
								</a>
						{% else %}
								<a class="navbar-item" href="{{ url_for('auth_bp.login') }}">
									Login
								</a>
						{% endif %}
						</div>
					</div>
				</div>
			</div>
        </nav>
		{% with messages = get_flashed_messages() %}
			{% if messages %}
				<div class="box" style="margin-bottom: 0;">
					<ul class="flashes">
						{% for message in messages %}
							<li>{{ message }}</li>
						{% endfor %}
					</ul>
				</div>
			{% endif %}
    	{% endwith %}		
		{% block content %}{% endblock %}
	</body>
</html>
