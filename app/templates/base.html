{# Macro to show info about a bird #}
{% macro viewabird(birdInfo) %}
	<p class="title">{{ birdInfo["EngName"] }}</p>
	<p class="subtitle">{{ birdInfo["SciName"] }}</p></p>
	<div class="content">
		<h2 class="title is-4">Names</h2>
		<p><strong>English name:</strong> {{ birdInfo["EngName"] }}</p>
		<p><strong>Scientific name:</strong> {{ birdInfo["SciName"] }}</p>
		{% if birdInfo["MalName"] %}
			<p><strong>Malay name:</strong> {{ birdInfo["MalName"] }}</p>
		{% endif %}
		{% if birdInfo["ChName"] %}
			<p><strong>Chinese name:</strong> {{ birdInfo["ChName"] }}</p>
		{% endif %}

		<h2 class="title is-4">Description</h2>
		<p><strong>Rarity status:</strong> {{ birdInfo["RarityStatus"] }}</p> 
		<p>
			<strong>Local status:</strong>
			{% for i in birdInfo["LocalStatus"].split("/") %}
				{% if loop.last %}
					{{ localStat.get(i) }}
				{% else %}
					{{ localStat.get(i) }}, 
				{% endif %}
			{% endfor %}
		</p>
		{% if birdInfo["Identification"] %}
			<p><strong>Identification:</strong> {{ birdInfo["Identification"] }}</p>
		{% endif %}

		{% if birdInfo["Behaviour"] %}
			<p><strong>Behaviour:</strong> {{ birdInfo["Behaviour"] }}</p>
		{% endif %}

		{% if not birdInfo["MinSize"] %}
			{{ pass }}
		{% elif birdInfo["MinSize"] == birdInfo["MaxSize"] %}
			<p><strong>Size:</strong> {{ birdInfo["MinSize"] }}cm</p>
		{% else %}
			<p><strong>Size:</strong> {{ birdInfo["MinSize"]}} - {{birdInfo["MaxSize"] }}cm</p>
		{% endif %}
	</div>
{% endmacro %}

{# Base HTML document #}
<!DOCTYPE html>
<html>
	<head>
		{% block head %}
			<title>{% block title %}{% endblock %} - SGBirdsFinder</title>
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/styles.css') }}">
			<script src="https://kit.fontawesome.com/2bac960090.js" crossorigin="anonymous"></script>
			<script>
				document.addEventListener('DOMContentLoaded', () => {
					const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
					
					$navbarBurgers.forEach( el => {
						el.addEventListener('click', () => {

							const target = el.dataset.target;
							const $target = document.getElementById(target);

							el.classList.toggle('is-active');
							$target.classList.toggle('is-active');
						});
					});
				});
			</script>
		{% endblock %}
	</head>
	<body>
		<nav class="navbar is-primary" role="navigation" aria-label="main navigation" style="height: 3.5em;">
			<div class="navbar-brand">
				<a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" style="margin-left: 0;">
					<span aria-hidden="true"></span>
					<span aria-hidden="true"></span>
					<span aria-hidden="true"></span>
				</a>
				<a class="navbar-item" href="{{ url_for('general_bp.welcome') }}">Home</a>
		    </div>
			<div class="navbar-menu" id="navMenu">
				<div class="navbar-end">
					<a class="navbar-item" href="{{ url_for('id_bp.identify_get') }}">Identify</a>
					<a class="navbar-item" href="{{ url_for('browse_bp.browse') }}">Browse</a>
					<a class="navbar-item" href="{{ url_for('general_bp.about') }}">About</a>
					<div class="navbar-item has-dropdown is-hoverable" style="margin-right: 1em;">
						<a class="navbar-link">
						  Admin
						</a>
						<div class="navbar-dropdown">
						{% if session.get("isAdmin") %}
								<a class="navbar-item" href="{{ url_for('admin_bp.dash') }}">
									Dashboard
								</a>
								<a class="navbar-item" href="{{ url_for('admin_bp.new') }}">
									New Bird
								</a>
								<hr class="navbar-divider">
								<a class="navbar-item" href="{{ url_for('auth_bp.logout') }}">
									Logout
								</a>
						{% else %}
								<a class="navbar-item" href="{{ url_for('auth_bp.login') }}">
									Login
								</a>
						{% endif %}
						</div>
					</div>
				</div>
			</div>
        </nav>
		{% with messages = get_flashed_messages() %}
			{% if messages %}
				<div class="box" style="margin-bottom: 0;">
					<ul class="flashes">
						{% for message in messages %}
							<li>{{ message }}</li>
						{% endfor %}
					</ul>
				</div>
			{% endif %}
    	{% endwith %}		
		{% block content %}{% endblock %}
	</body>
</html>
